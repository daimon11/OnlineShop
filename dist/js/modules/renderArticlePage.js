import{dateNow}from"./renderArticleList.js";const date=dateNow(),loadAutor=async a=>{const n=await fetch(`https://gorest.co.in/public-api/users/${a}`);return(await n.json()).data},loadArticle=async a=>{const n=await fetch(`https://gorest.co.in/public-api/posts/${a}`);return(await n.json()).data};export const renderArticle=async(a,n)=>{new URLSearchParams(window.location.search).append("id",`${a}`);
//! переписать на промис.then
const s=await loadArticle(a),t=await loadAutor(s.user_id);console.log("arr",s),console.log("autorId",t);const c=document.createElement("ul");c.classList.add("breadcrumb"),c.innerHTML=`\n    <li class="breadcrumb__item">\n      <span class="link-to-home">Главная</span>\n    <img src="./img/breadcrumb-icon.svg" alt="Иконка хлебной крошки" class="breadcrumb-icon"> \n    </li> \n    <li class="breadcrumb__item">\n      <span class="link-to-blog">Блог</span>\n    <img src="./img/breadcrumb-icon.svg" alt="Иконка хлебной крошки" class="breadcrumb-icon"> \n    </li> <li class="breadcrumb__item">\n      <span class="link-to-article">${s.title}\n      </span>\n    </li>\n  `;const i=document.createElement("div");i.classList.add("article__text-wrapper"),i.innerHTML=`\n  <h2 class="article__title">${s.title}</h2>\n  <p class="article__paragraf">${s.body}</p>\n  `;const e=document.createElement("div");e.classList.add("article__footer"),e.innerHTML=`\n    <a class="article__btn-back" href="#" onclick="window.history.go(-1); return false;">\n    <img class="article__btn-back-icon" src="./img/to-back-icon.svg" alt="Иконка стрелки">\n    <span class="btn-text">\n      К списку статей\n    </span>\n    </a>\n\n    <div class="article__autor-block">\n    <h4 class="article__autor-name">${t.name?t.name:""}</h4>\n\n    <span class="article__time">${date}</span>\n\n    <div class="article__user-box">\n\n      <figure class="article__user">\n        <img src="./img/icon-view.svg" alt="Иконка просмотра" class="article__views-icon">\n        <figcaption class="article__views-text">0</figcaption>\n      </figure>\n      <figure class="article__user">\n        <img src="./img/icon-chat.svg" alt="Иконка чата" class="article__chat-icon">\n        <figcaption class="article__chat-text">0</figcaption>\n      </figure>\n\n    </div>\n\n    </div>\n  `,n.classList.add("article_visible"),n.append(c,i,e),document.querySelector(".adds-banners").classList.remove("visually-hidden")};