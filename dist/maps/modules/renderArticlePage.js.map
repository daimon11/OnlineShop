{"version":3,"file":"../../script/modules/renderArticlePage.js","names":["dateNow","date","loadAutor","async","userId","item","fetch","json","data","loadArticle","id","renderArticle","articleModal","URLSearchParams","window","location","search","append","arr","autorId","user_id","console","log","breadcrumb","document","createElement","classList","add","innerHTML","title","textWrapper","body","footer","name","querySelector","remove"],"sources":["modules/renderArticlePage.js"],"mappings":"OAASA,YAAe,yBAExB,MAAMC,KAAOD,UAEPE,UAAYC,MAAOC,IACvB,MAAMC,QAAaC,MAAM,yCAAyCF,KAElE,aADuBC,EAAKE,QACZC,IAAI,EAGhBC,YAAcN,MAAOO,IACzB,MAAML,QAAaC,MAAM,yCAAyCI,KAElE,aADmBL,EAAKE,QACZC,IAAI,SAGX,MAAMG,cAAgBR,MAC3BO,EACAE,KAGe,IAAIC,gBAAgBC,OAAOC,SAASC,QAC5CC,OAAO,KAAM,GAAGP;;AAGvB,MAAMQ,QAAYT,YAAYC,GACxBS,QAAgBjB,UAAUgB,EAAIE,SACpCC,QAAQC,IAAI,MAAOJ,GACnBG,QAAQC,IAAI,UAAWH,GAEvB,MAAMI,EAAaC,SAASC,cAAc,MAC1CF,EAAWG,UAAUC,IAAI,cACzBJ,EAAWK,UAAY,mcASaV,EAAIW,sCAIxC,MAAMC,EAAcN,SAASC,cAAc,OAC3CK,EAAYJ,UAAUC,IAAI,yBAC1BG,EAAYF,UAAY,kCACKV,EAAIW,8CACFX,EAAIa,eAGnC,MAAMC,EAASR,SAASC,cAAc,OACtCO,EAAON,UAAUC,IAAI,mBACrBK,EAAOJ,UAAY,qVASiBT,EAAQc,KAAOd,EAAQc,KAAO,8CAElChC,sfAkBhCW,EAAac,UAAUC,IAAI,mBAC3Bf,EAAaK,OAAOM,EAAYO,EAAaE,GAC7CR,SAASU,cAAc,iBAAiBR,UAAUS,OAAO,kBAAkB","sourcesContent":["import { dateNow } from './renderArticleList.js';\r\n\r\nconst date = dateNow();\r\n\r\nconst loadAutor = async (userId) => {\r\n  const item = await fetch(`https://gorest.co.in/public-api/users/${userId}`);\r\n  const autorArr = await item.json();\r\n  return autorArr.data;\r\n}\r\n\r\nconst loadArticle = async (id) => {\r\n  const item = await fetch(`https://gorest.co.in/public-api/posts/${id}`);\r\n  const data = await item.json();\r\n  return data.data;\r\n}\r\n\r\nexport const renderArticle = async (\r\n  id,\r\n  articleModal\r\n) => {\r\n\r\n  const params = new URLSearchParams(window.location.search);\r\n  params.append('id', `${id}`);\r\n\r\n  //! переписать на промис.then\r\n  const arr = await loadArticle(id);\r\n  const autorId = await loadAutor(arr.user_id);\r\n  console.log('arr', arr);\r\n  console.log('autorId', autorId);\r\n\r\n  const breadcrumb = document.createElement('ul');\r\n  breadcrumb.classList.add('breadcrumb');\r\n  breadcrumb.innerHTML = `\r\n    <li class=\"breadcrumb__item\">\r\n      <span class=\"link-to-home\">Главная</span>\r\n    <img src=\"./img/breadcrumb-icon.svg\" alt=\"Иконка хлебной крошки\" class=\"breadcrumb-icon\"> \r\n    </li> \r\n    <li class=\"breadcrumb__item\">\r\n      <span class=\"link-to-blog\">Блог</span>\r\n    <img src=\"./img/breadcrumb-icon.svg\" alt=\"Иконка хлебной крошки\" class=\"breadcrumb-icon\"> \r\n    </li> <li class=\"breadcrumb__item\">\r\n      <span class=\"link-to-article\">${arr.title}\r\n      </span>\r\n    </li>\r\n  `;\r\n  const textWrapper = document.createElement('div');\r\n  textWrapper.classList.add('article__text-wrapper');\r\n  textWrapper.innerHTML = `\r\n  <h2 class=\"article__title\">${arr.title}</h2>\r\n  <p class=\"article__paragraf\">${arr.body}</p>\r\n  `;\r\n\r\n  const footer = document.createElement('div');\r\n  footer.classList.add('article__footer');\r\n  footer.innerHTML = `\r\n    <a class=\"article__btn-back\" href=\"#\" onclick=\"window.history.go(-1); return false;\">\r\n    <img class=\"article__btn-back-icon\" src=\"./img/to-back-icon.svg\" alt=\"Иконка стрелки\">\r\n    <span class=\"btn-text\">\r\n      К списку статей\r\n    </span>\r\n    </a>\r\n\r\n    <div class=\"article__autor-block\">\r\n    <h4 class=\"article__autor-name\">${autorId.name ? autorId.name : ''}</h4>\r\n\r\n    <span class=\"article__time\">${date}</span>\r\n\r\n    <div class=\"article__user-box\">\r\n\r\n      <figure class=\"article__user\">\r\n        <img src=\"./img/icon-view.svg\" alt=\"Иконка просмотра\" class=\"article__views-icon\">\r\n        <figcaption class=\"article__views-text\">${0}</figcaption>\r\n      </figure>\r\n      <figure class=\"article__user\">\r\n        <img src=\"./img/icon-chat.svg\" alt=\"Иконка чата\" class=\"article__chat-icon\">\r\n        <figcaption class=\"article__chat-text\">${0}</figcaption>\r\n      </figure>\r\n\r\n    </div>\r\n\r\n    </div>\r\n  `\r\n\r\n  articleModal.classList.add('article_visible');\r\n  articleModal.append(breadcrumb, textWrapper, footer);\r\n  document.querySelector('.adds-banners').classList.remove('visually-hidden');\r\n};"]}